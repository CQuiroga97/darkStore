<div class="container p-4">
    <div class="row">
        <h1>Tabla de despachos</h1>
        <hr>
    </div>
    <div class="row">
        <div class="col-12 d-flex ">
            <img src="../../../../assets/images/logistica/inventario/img3.png" alt="" *ngIf="dataSource._data?._value.length == 0" class="m-auto">
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 demo-table m-auto" *ngIf="dataSource._data?._value.length > 0"
                matSort
                #empTbSort="matSort">

                <ng-container matColumnDef="{{displayedColumns[i]}}" *ngFor="let columna of titulosTabla; let i = index;">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> {{columna}} </th>
                  <td mat-cell *matCellDef="let element"> {{element[displayedColumns[i]]}} </td>
                </ng-container>
                <ng-container matColumnDef="estado">
                    <th mat-header-cell *matHeaderCellDef> Estado </th>
                    <td mat-cell *matCellDef="let element">
                        <mat-form-field class="m-auto w-100">
                            <mat-label>Productos</mat-label>
                            <mat-select value="{{element.estado}}" (selectionChange)="cambiarEstado($event, element.id_despacho)">
                                <mat-option value="{{element.estado}}">
                                    {{element.estado}}
                                </mat-option>
                                <mat-option value="ENTREGADO" *ngIf="element.estado == 'EN RUTA'">
                                    ENTREGADO
                                </mat-option>
                                <mat-option value="EN RUTA" *ngIf="element.estado == 'ENTREGADO'">
                                    EN RUTA
                                </mat-option>
                            </mat-select>
                            <mat-hint>Productos por marca</mat-hint>
                          </mat-form-field>
                    </td>
                </ng-container>




              </table>
              <mat-paginator [pageSizeOptions]="[ 10]" showFirstLastButtons *ngIf="dataSource._data?._value.length > 0"></mat-paginator>
        </div>
    </div>
</div>
